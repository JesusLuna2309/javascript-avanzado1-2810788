<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<!-- HTML: Bot贸n que dispara un evento al hacer clic -->
<button id="miBoton">Haz clic</button>

<script>
  // Manejador de evento: funci贸n que se ejecuta cuando el usuario hace clic en el bot贸n
  function clickHandler() {
    console.log("Clic en el bot贸n");
  }

  // Asignamos el evento 'click' al bot贸n con id 'miBoton'
  document.getElementById("miBoton").addEventListener("click", clickHandler);

  // Logs normales: se ejecutan de inmediato, en orden
  console.log("Primer log");
  console.log("Segundo log");

  // Otro log inmediato
  console.log("Primer log");

  // setTimeout: programa una funci贸n para ejecutarse despu茅s de 0 ms.
  // Aunque el tiempo es 0, la funci贸n se pone en la cola de tareas y se ejecuta despu茅s de que termine el c贸digo s铆ncrono.
  setTimeout(() => {
    console.log("Segundo log");
  }, 0);

  // Log inmediato, antes del setTimeout
  console.log("Tercer log");

  // Funci贸n que simula una tarea larga y bloqueante
  function tareaLarga() {
    let ahora = Date.now();
    while (Date.now() - ahora < 5000) {
      // Este bucle bloquea el hilo principal durante 5 segundos
      // Durante este tiempo, ning煤n evento (como clics) ni tareas programadas (como setTimeout) pueden ejecutarse
    }
    console.log("Fin de tarea larga");
  }

  // Redefinici贸n del manejador de clic (sobrescribe el anterior)
  function clickHandler() {
    console.log("隆Clic recibido!");
  }

  // Vuelve a asignar el evento 'click' al bot贸n, ahora con el nuevo manejador
  document.getElementById("miBoton").addEventListener("click", clickHandler);

  // Llamada a la tarea larga: bloquea el hilo principal
  tareaLarga(); //  Esta funci贸n bloquea todo

  // Mientras tareaLarga est谩 ejecut谩ndose, ning煤n evento ni setTimeout puede ejecutarse.
  // Cuando termina, se procesan los eventos y tareas pendientes.

</script>
<body>
    <h1>Eventos en JavaScript</h1>
    <p>Haz clic en el bot贸n para ver el evento en acci贸n.</p>   
</html>